full-name: GNU binutils
name: binutils
version: "2.20"

The GNU binary utilities are a collection of programs and
libraries that produce and operate on object files.  The primary
ones are +as+ (the assembler, which transforms assembly source
code into object code) and +ld+ (the linker, which combines
multiple object files into an executable program); but there are
a bunch of others including +addr2line+, +ar+, +c++filt+,
+gprof+, +nm+, +objcopy+, +objdump+, +ranlib+, +readelf+, +size+,
+strings+, and +strip+; and there are a couple of shared
libraries as well (+libbfd+ and +libopcodes+).  All of the
utility programs are documented in man pages and the binutils
info file.

You probably won't need to invoke any of these programs manually.
The +gcc+ driver program calls +as+ and +ld+ as necessary to do
its work, and several of the other utility programs are used
internally during the build process of other system components.

No patches are required for binutils.

GNU binutils, like many toolchain components,  must be
constructed from a directory outside the source directory.

build-dir: ../build-binutils

The GNU binutils can be built as part of a cross-toolchain using
the "sysroot" framework.  That framework isn't particularly
well-documented, but the important thing from our perspective is
that we need to specify the configure options +--with-sysroot+
and +--with-build-sysroot+ to inform the build machinery of the
desired sysroot directory.

All of the toolchain components should be installed in the same
filesystem location.  The TOOL_PREFIX parameter lets you specify
that location.

configure-commands:
 - PARAM[SOURCE_DIR]/configure --prefix=PARAM[TOOL_PREFIX]
     --build=PARAM[HOST] --target=PARAM[TARGET]
     --with-sysroot=PARAM[SYSROOT] --with-build-sysroot=PARAM[SYSROOT]
     --disable-nls --enable-shared --disable-multilib
     --with-lib-path=PARAM[TMPTOOLS]/lib
 - make configure-host

test-commands:

install-commands:
 - make install
 - mkdir -p PARAM[TMPTOOLS]/include
 - cp -v PARAM[SOURCE_DIR]/include/libiberty.h PARAM[TMPTOOLS]/include
